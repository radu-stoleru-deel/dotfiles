set-option default-terminal "xterm-256color"
set-option -sg escape-time 10
set-option -g focus-events on

# RGB tmux info | grep -e RGB -e Tc
set-option -sa terminal-overrides ',xterm-256color:RGB'
set-option -ga terminal-overrides ',xterm-256color:Tc'

# look'n feel
set-option -g status-fg cyan
set-option -g status-bg black
set -g window-style fg=colour10,bg=default
set -g window-active-style fg=colour12,bg=default
set-option -g history-limit 64096

# default window title colors
set-window-option -g window-status-style fg=colour244,bg=colour234,dim

# active window title colors
set-window-option -g window-status-current-style fg=colour166,bg=default,bright

# message text
set-option -g message-style bg=colour235,fg=colour166

# vi copy-mode
setw -g mode-keys vi

bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe "pbcopy"

# Powerline
#set-option -g status-position top
#set -g status on
#set -g status-interval 2
#set -g status-left-length 60
#set -g status-left '#[fg=colour235,bg=colour252,bold] #S #[fg=colour252,bg=colour238,nobold]#[fg=colour245,bg=colour238,bold] #(whoami) #[fg=colour238,bg=colour234,nobold]'
#
#set -g status-right-length 150
#set -g status-right '#[fg=colour59]#[fg=colour255,bg=colour59] #[fg=colour254,bold]#[fg=colour16,bg=colour254,bold] #h '
#
#set -g window-status-separator '#[fg=colour244,bg=colour234] '
#set -g window-status-format "#[fg=colour244,bg=colour234] #I #[fg=colour240] #[default,bg=colour234]#W "
#set -g window-status-current-format "#[fg=colour234,bg=colour31]#[fg=colour117,bg=colour31] #I #[fg=colour231,bold]#W #[fg=colour31,bg=colour234,nobold]"

# clock
set-window-option -g clock-mode-colour colour64 #green

# allow the title bar to adapt to whatever host you connect to
set -g set-titles on
set -g set-titles-string "#T"

# Theme
set -g status-style 'bg=default,fg=white' # transparent status bar
set -g status-position top
set -g pane-active-border-style "fg=white,bg=default"
set -g pane-border-style "fg=brightblack,bg=default"

set -g status-left-length 60
set -g status-left "#[fg=blue,bold]#S " # session name
set -ga status-left "#[fg=white,bold]ямл "
# set -ga status-left "#[fg=white,nobold]#(gitmux -timeout 300ms -cfg $HOME/.config/tmux/gitmux.conf) "

set -g status-right-length 50
set -g status-right "#{now_playing}"

# [0 - command]
# set -g window-status-format "#[fg=brightblack,nobold,bg=default]["
# set -ga window-status-format "#[fg=brightblack,bg=default]#I #F "
# set -ga window-status-format "#[fg=white,bg=default]#W"
# set -ga window-status-format "#[fg=brightblack,nobold,bg=default]]"

# [0 * command]
# set -g window-status-current-format "#[fg=brightblack,nobold,bg=default]["
# set -ga window-status-current-format "#[fg=brightblack,nobold,bg=default]#I "
# set -ga window-status-current-format "#[fg=magenta,nobold,bg=default]#F "
# set -ga window-status-current-format "#[fg=white,bold,bg=default]#W"
# set -ga window-status-current-format "#[fg=brightblack,nobold,bg=default]]"

# command
set -g window-status-format "#[fg=brightblack,bg=default]#F"
set -ga window-status-format "#[fg=white,bg=default]#W "

# *command
set -g window-status-current-format "#[fg=magenta,nobold,bg=default]#F"
set -ga window-status-current-format "#[fg=white,bold,bg=default]#W "

# pane number display
set-option -g display-panes-active-colour colour33 #blue
set-option -g display-panes-colour colour166 #orange

# Navigation
bind -r h select-pane -L  # move left
bind -r j select-pane -D  # move down
bind -r k select-pane -U  # move up
bind -r l select-pane -R  # move right
bind > swap-pane -D       # swap current pane with the next one
bind < swap-pane -U       # swap current pane with the previous one

# pane resizing
bind -r H resize-pane -L 2
bind -r J resize-pane -D 2
bind -r K resize-pane -U 2
bind -r L resize-pane -R 2

unbind r
bind r source-file ~/.tmux.conf \; display "Reloaded tmux config!"

# panes: window splitting 
unbind %
bind | split-window -h
unbind '"'
bind - split-window -v
